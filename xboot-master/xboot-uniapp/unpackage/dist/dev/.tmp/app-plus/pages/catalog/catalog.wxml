<view class="catalog"><scroll-view class="nav" scroll-y="true"><block wx:for="{{category}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view data-event-opts="{{[['tap',[['switchCategory',['$0'],[[['category','',i]]]]]]]}}" class="wrap" bindtap="__e"><view class="{{['item '+(currentCategory.id==item.id?'active':'')]}}">{{item.title}}</view></view></block></scroll-view><scroll-view class="category" scroll-y="true"><view class="banner"><image class="image" src="{{currentCategory.picUrl}}"></image></view><block wx:for="{{currentCategory.children}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view><block wx:if="{{item.title}}"><view class="header">{{item.title}}</view></block><view class="item-wrap"><block wx:for="{{item.children}}" wx:for-item="iitem" wx:for-index="i" wx:key="i"><view class="{{['item '+((index+1)%3==0?'last':'')]}}"><image class="icon" src="{{iitem.picUrl}}"></image><text class="txt">{{iitem.title}}</text></view></block></view></view></block></scroll-view></view>